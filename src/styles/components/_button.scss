@use "../variables" as v;
@use "../mixins" as m;
@use "../pixel" as pb;

// ─────────────────────────────────────────
// .btn  — 기본 픽셀 버튼
//
// 중요도 계층 (1→4순위)
// .btn--primary    주황 강조    [1순위] 주 액션
// .btn--secondary  시에나 강조  [2순위] 부 액션
// .btn--tertiary   아웃라인     [3순위] 탐색/보조
// .btn--ghost      테두리만     [4순위] 취소/뒤로
//
// .btn--danger    붉은 위험 (비파괴 경고용, 계층 외)
// ─────────────────────────────────────────

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-family: v.$font-pixel;
  color: v.$color-text;
  text-align: center;
  font-weight: bold;
  line-height: 1.4;
  border: none;
  outline: none;
  user-select: none;
  transition: filter 0.1s ease;

  // 모바일: vw 기반 크기
  @include m.mobile {
    font-size: m.vw(14);
    padding: m.vw(12) m.vw(20);
    gap: m.vw(8);
  }

  // PC: 고정 크기 (max-width 768px 컨테이너 내부)
  @include m.desktop {
    font-size: 18px;
    padding: 12px 20px;
    gap: 8px;
  }

  &:active {
    filter: brightness(0.85);
    transform: translateY(2px);
  }

  &:disabled {
    opacity: 0.4;
    cursor: not-allowed;
    pointer-events: none;
  }
}

.btn--primary {
  @include pb.pixel-box(
    $corner-size: 2,
    $border-size: 4px,
    // $background-color: v.$color-primary,
    $background-color: #e76434,
    $border-color: v.$color-border,
    $border-inset: true,
    $border-inset-sides: "all"
  );
  color: v.$color-bg;
}

// 2순위: 따뜻한 시에나 — primary보다 차분하지만 여전히 강한 존재감
.btn--secondary {
  @include pb.pixel-box(
    $corner-size: 2,
    $border-size: 4px,
    // $background-color: #cd7000,
    $background-color: #eb910a,
    $border-color: v.$color-border,
    $border-inset: true,
    $border-inset-sides: "all"
  );
  // color: #fde8c8; e78c6c 44c16f a07abb f5cd70 d37b15 e78c6c
  // color: #333;
  color: v.$color-bg;
}

// 3순위: 뮤트 웜브라운 — primary·secondary와 동일 스타일, 채도만 낮춤
.btn--tertiary {
  @include pb.pixel-box(
    $corner-size: 2,
    $border-size: 4px,
    $background-color: #847290,
    $border-color: v.$color-border,
    $border-inset: true,
    $border-inset-sides: "all"
  );
  // color: #333;
  color: v.$color-bg;
}

.btn--flat {
  @include pb.pixel-box(
    $corner-size: 2,
    $border-size: 4px,
    $background-color: #9c9c9c,
    $border-color: v.$color-border,
    $border-inset: true,
    $border-inset-sides: "all"
  );
  // color: #333;
  color: v.$color-bg;
}

.btn--danger {
  @include pb.pixel-box(
    $corner-size: 2,
    $border-size: 4px,
    $background-color: v.$color-danger,
    $border-color: v.$color-border,
    $border-inset: true,
    $border-inset-sides: "all"
  );
}

.btn--ghost {
  background-color: transparent;
  @include pb.pixel-borders(
    $corner-size: 2,
    $border-size: 3px,
    $border-color: v.$color-border
  );

  &:hover,
  &:focus {
    background-color: rgba(255, 255, 255, 0.08);
  }
}
